import{r as i,j as e,X as y,U as v,S as T}from"./index-v4UyLoar.js";import{S as w}from"./save-4D8tpIMf.js";import{B as S}from"./bell-C0qbxcwK.js";import{L as M}from"./lock-ebOEqwAx.js";const A=()=>{const[o,u]=i.useState(!1),[f,c]=i.useState(!1),[g,x]=i.useState(null),[t,h]=i.useState({firstName:"",lastName:"",email:"",phone:"",address:"",companyName:"",timeZone:"GMT+5:30",emailAlerts:!0,pushNotifications:!1,role:"",location:""});i.useEffect(()=>{p()},[]);const p=()=>{const a=localStorage.getItem("user")||sessionStorage.getItem("user");if(a)try{const s=JSON.parse(a);x(s);let l=s.firstName||s.first_name||"",d=s.lastName||s.last_name||"";if(!l&&!d&&s.fullName){const m=s.fullName.trim().split(" ");l=m[0]||"",d=m.slice(1).join(" ")||""}let n=s.address||"";!n&&(s.city||s.state||s.pin)&&(n=[s.address||"",s.city||"",s.state||"",s.pin||""].filter(j=>j.trim()).join(", ")),n||(n=s.address||s.city||s.state||""),h({firstName:l,lastName:d,email:s.email||"",phone:s.phone||s.phoneNumber||s.adminPhone||"",address:n,companyName:s.companyName||s.company_name||"",timeZone:s.timeZone||s.time_zone||"GMT+5:30",emailAlerts:s.emailAlerts!==void 0?s.emailAlerts:!0,pushNotifications:s.pushNotifications!==void 0?s.pushNotifications:!1,role:s.role||s.role_name||"",location:s.location||s.city||s.state||""})}catch(s){console.error("Error parsing user data:",s)}},r=(a,s)=>{h(l=>({...l,[a]:s})),c(!0)},b=async()=>{try{u(!0);const a={...g,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,address:t.address,companyName:t.companyName,timeZone:t.timeZone,emailAlerts:t.emailAlerts,pushNotifications:t.pushNotifications,location:t.location};localStorage.setItem("user",JSON.stringify(a)),sessionStorage.getItem("user")&&sessionStorage.setItem("user",JSON.stringify(a)),x(a),c(!1),alert("Profile updated successfully!")}catch(a){console.error("Error updating profile:",a),alert("Failed to update profile. Please try again.")}finally{u(!1)}},N=()=>{p(),c(!1)};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6 overflow-hidden",children:e.jsx("div",{className:"px-8 py-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{children:e.jsxs("h2",{className:"text-3xl font-bold text-black mb-2",children:[t.firstName," ",t.lastName]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:N,disabled:!f||o,className:"px-4 py-2 border border-gray-300 rounded-lg text-black hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(y,{className:"w-5 h-5 inline mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:b,disabled:!f||o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),o?"Saving...":"Save Changes"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"General Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:t.firstName,onChange:a=>r("firstName",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:t.lastName,onChange:a=>r("lastName",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:t.email,onChange:a=>r("email",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:t.phone,onChange:a=>r("phone",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:t.address,onChange:a=>r("address",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:t.companyName,onChange:a=>r("companyName",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsxs("select",{value:t.timeZone,onChange:a=>r("timeZone",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"GMT+5:30",children:"GMT+5:30 (IST - Indian Standard Time)"}),e.jsx("option",{value:"GMT+0:00",children:"GMT+0:00 (GMT - Greenwich Mean Time)"}),e.jsx("option",{value:"GMT-5:00",children:"GMT-5:00 (EST - Eastern Standard Time)"}),e.jsx("option",{value:"GMT-6:00",children:"GMT-6:00 (CST - Central Standard Time)"}),e.jsx("option",{value:"GMT-7:00",children:"GMT-7:00 (MST - Mountain Standard Time)"}),e.jsx("option",{value:"GMT-8:00",children:"GMT-8:00 (PST - Pacific Standard Time)"}),e.jsx("option",{value:"GMT+1:00",children:"GMT+1:00 (CET - Central European Time)"}),e.jsx("option",{value:"GMT+2:00",children:"GMT+2:00 (EET - Eastern European Time)"}),e.jsx("option",{value:"GMT+3:00",children:"GMT+3:00 (MSK - Moscow Standard Time)"}),e.jsx("option",{value:"GMT+8:00",children:"GMT+8:00 (CST - China Standard Time)"}),e.jsx("option",{value:"GMT+9:00",children:"GMT+9:00 (JST - Japan Standard Time)"}),e.jsx("option",{value:"GMT+10:00",children:"GMT+10:00 (AEST - Australian Eastern Standard Time)"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Notifications"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Email Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily stock reports"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.emailAlerts,onChange:a=>r("emailAlerts",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time alerts on mobile"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.pushNotifications,onChange:a=>r("pushNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Security"})]}),e.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[e.jsx(M,{className:"w-5 h-5"}),"Change Password"]})]})]})]})]})})};export{A as default};
