import{a as i}from"./api-BJ7xcL-N.js";import{c as o,i as t}from"./cachedApi-DyAQX7TM.js";import{e as s}from"./inventoryEvents-fOALNsvn.js";const g={getAll:async e=>await o("/inventory",{params:e},{ttlMs:60*1e3}),getIncoming:async e=>await o("/inventory/incoming",{params:e},{ttlMs:60*1e3}),getIncomingById:async e=>await o(`/inventory/incoming/${e}`,void 0,{ttlMs:5*60*1e3}),getIncomingHistory:async e=>await o("/inventory/incoming/history",{params:e},{ttlMs:60*1e3}),addIncoming:async e=>{const n=await i.post("/inventory/incoming",e);return t("GET:/inventory"),t("GET:/skus"),t("sku:"),s(),n.data},getOutgoingHistory:async e=>await o("/inventory/outgoing/history",{params:e},{ttlMs:60*1e3}),getOutgoing:async e=>await o("/inventory/outgoing",{params:e},{ttlMs:60*1e3}),getOutgoingById:async e=>await o(`/inventory/outgoing/${e}`,void 0,{ttlMs:5*60*1e3}),getOutgoingItems:async e=>await o(`/inventory/outgoing/${e}`,void 0,{ttlMs:5*60*1e3}),addOutgoing:async e=>{const n=await i.post("/inventory/outgoing",e);return t("GET:/inventory"),t("GET:/skus"),t("sku:"),s(),n.data},getIncomingItems:async e=>await o(`/inventory/incoming/${e}/items`,void 0,{ttlMs:5*60*1e3}),moveReceivedToRejected:async(e,n,r,a,d)=>{var y;const c=await i.post(`/inventory/incoming/${e}/move-received-to-rejected`,{itemId:n,quantity:r,inspectionDate:a,reason:d});return(y=c.data)!=null&&y.warning&&console.warn("[inventoryService] Warning from backend:",c.data.warning),t("GET:/inventory"),t("GET:/skus"),t("GET:/inventory/rejected-item-reports"),t("sku:"),await new Promise(m=>setTimeout(m,100)),s(),c.data},moveShortToRejected:async(e,n,r)=>{const a=await i.post(`/inventory/incoming/${e}/move-to-rejected`,{itemId:n,quantity:r});return t("GET:/inventory"),t("GET:/skus"),t("GET:/inventory/rejected-item-reports"),t("sku:"),s(),a.data},updateShortItem:async(e,n)=>{const r=await i.put(`/inventory/incoming/${e}/update-short-item`,n);return t("GET:/inventory"),t("GET:/skus"),t("GET:/inventory/short-item-reports"),t("sku:"),s(),r.data},updateRejectedShort:async(e,n)=>{const r={itemId:n.itemId};n.rejected!==void 0&&(r.rejected=n.rejected),n.short!==void 0&&(r.short=n.short);const a=await i.put(`/inventory/incoming/${e}/update-item-rejected-short`,r);return t("GET:/inventory"),t("GET:/skus"),t("GET:/inventory/rejected-item-reports"),t("GET:/inventory/short-item-reports"),t("sku:"),s(),a.data},updateRecordLevelRejectedShort:async(e,n)=>{const r=await i.put(`/inventory/incoming/${e}/update-record-level`,n);return t("GET:/inventory"),r.data},getRejectedItems:async e=>await o("/inventory/incoming/rejected-items",{params:e},{ttlMs:60*1e3}),getPriceHistory:async e=>await o("/inventory/incoming/price-history",{params:{skuId:e}},{ttlMs:10*60*1e3}),hasPriceHistory:async e=>await o("/inventory/incoming/has-price-history",{params:{skuId:e}},{ttlMs:10*60*1e3}),getRejectedItemReports:async e=>{const{_t:n,...r}=e||{};return await o("/inventory/rejected-item-reports",{params:r},{ttlMs:60*1e3})},getRejectedItemReportById:async e=>await o(`/inventory/rejected-item-reports/${e}`,void 0,{ttlMs:5*60*1e3}),createRejectedItemReport:async e=>{const n=await i.post("/inventory/rejected-item-reports",e);return t("GET:/inventory/rejected-item-reports"),n.data},updateRejectedItemReport:async(e,n)=>{const r=await i.put(`/inventory/rejected-item-reports/${e}`,n);return t("GET:/inventory/rejected-item-reports"),r.data},deleteRejectedItemReport:async e=>{const n=await i.delete(`/inventory/rejected-item-reports/${e}`);return t("GET:/inventory/rejected-item-reports"),n.data},getShortItemReports:async e=>await o("/inventory/short-item-reports",{params:e},{ttlMs:60*1e3})};export{g as i};
