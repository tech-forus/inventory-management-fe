import{c as pt,r as l,g as ht,u as gt,j as s,T as se}from"./index-C4O2RVGC.js";import{i as le}from"./inventoryService-Cfeh1TyB.js";import{a as he,b as ge}from"./formatters-ptPrPoGe.js";import{A as yt}from"./arrow-left-DX9oxssc.js";import{y as ve,E as Ne,$ as Ce,am as bt,an as St,B,ao as jt,ap as Pt,aq as wt,ar as Ot,as as Et,at as It,M as we,a7 as Ge,au as Tt,av as Le,aw as kt,ax as At,ay as xe,a3 as Oe,az as R,aA as Nt,aB as Ct,aC as Gt,D as me,aD as De,aE as Dt,aF as Bt,aG as Lt,aH as Me,aI as Mt,aJ as _t,aK as Ft,Z as pe,L as ne,aL as zt,aM as Kt,aN as _e,aO as Be,aP as Rt,a0 as $t,c as F,x as Vt,aQ as Wt,n as X,aR as Ht,aS as $,aT as H,aU as V,aV as U,aW as Qe,aX as et,aY as tt,aZ as Ut,a_ as Yt,a$ as Fe,b0 as Xt,b1 as ze,b2 as Zt,b3 as qt,R as Jt,b4 as Qt,b5 as ea,w as at,G as ta,b6 as aa,b7 as ra,A as na,F as Ee,h as rt,b8 as ia,b9 as sa,ba as la,bb as Ke,Q as nt,V as it,W as st,X as lt,a4 as oa,H as ca,J as ua,K as _,a1 as da,bc as fa,z as va,T as xa,N as Re,bd as ma,ae as pa,af as ye,ag as ha,ah as be,ai as Se,aj as je,ak as Pe,al as $e}from"./AreaChart-DNI9qvKJ.js";import{I as ga}from"./info-BME2c-cI.js";import{A as ya}from"./alert-circle-CHFujnlN.js";import"./api-VNhYhLPD.js";import"./cachedApi-CKq13PPM.js";import"./inventoryEvents-fOALNsvn.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ce.apply(null,arguments)}function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function ba(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(r){Sa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sa(e,t,a){return(t=ja(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ja(e){var t=Pa(e,"string");return typeof t=="symbol"?t:t+""}function Pa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G=32,wa={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Oa(e){var{data:t,iconType:a,inactiveColor:r}=e,i=G/2,n=G/6,c=G/3,d=t.inactive?r:t.color,f=a??t.type;if(f==="none")return null;if(f==="plainline"){var o;return l.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(o=t.payload)===null||o===void 0?void 0:o.strokeDasharray,x1:0,y1:i,x2:G,y2:i,className:"recharts-legend-icon"})}if(f==="line")return l.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(n,",").concat(n,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(G,"M").concat(2*c,",").concat(i,`
            A`).concat(n,",").concat(n,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return l.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(G/8,"h").concat(G,"v").concat(G*3/4,"h").concat(-G,"z"),className:"recharts-legend-icon"});if(l.isValidElement(t.legendIcon)){var v=ba({},t);return delete v.legendIcon,l.cloneElement(t.legendIcon,v)}return l.createElement(St,{fill:d,cx:i,cy:i,size:G,sizeType:"diameter",type:f})}function Ea(e){var{payload:t,iconSize:a,layout:r,formatter:i,inactiveColor:n,iconType:c}=e,d={x:0,y:0,width:G,height:G},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},o={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,x)=>{var y=v.formatter||i,j=Ne({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:v.inactive});if(v.type==="none")return null;var b=v.inactive?n:v.color,m=y?y(v.value,v,x):v.value;return l.createElement("li",ce({className:j,style:f,key:"legend-item-".concat(x)},Ce(e,v,x)),l.createElement(bt,{width:a,height:a,viewBox:d,style:o,"aria-label":"".concat(m," legend icon")},l.createElement(Oa,{data:v,iconType:c,inactiveColor:n})),l.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m))})}var Ia=e=>{var t=ve(e,wa),{payload:a,layout:r,align:i}=t;if(!a||!a.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return l.createElement("ul",{className:"recharts-default-legend",style:n},l.createElement(Ea,ce({},t,{payload:a})))};function Ta(){return B(jt)}var ka=["contextPayload"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ie.apply(null,arguments)}function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?He(Object(a),!0).forEach(function(r){Aa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Aa(e,t,a){return(t=Na(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Na(e){var t=Ca(e,"string");return typeof t=="symbol"?t:t+""}function Ca(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(e,t){if(e==null)return{};var a,r,i=Da(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Da(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Ba(e){return e.value}function La(e){var{contextPayload:t}=e,a=Ga(e,ka),r=kt(t,e.payloadUniqBy,Ba),i=Y(Y({},a),{},{payload:r});return l.isValidElement(e.content)?l.cloneElement(e.content,i):typeof e.content=="function"?l.createElement(e.content,i):l.createElement(Ia,i)}function Ma(e,t,a,r,i,n){var{layout:c,align:d,verticalAlign:f}=t,o,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?o={left:((r||0)-n.width)/2}:o=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?v={top:((i||0)-n.height)/2}:v=f==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Y(Y({},o),v)}function _a(e){var t=Ge();return l.useEffect(()=>{t(Tt(e))},[t,e]),null}function Fa(e){var t=Ge();return l.useEffect(()=>(t(Le(e)),()=>{t(Le({width:0,height:0}))}),[t,e]),null}function za(e,t,a,r){return e==="vertical"&&we(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var Ka={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Te(e){var t=ve(e,Ka),a=Ta(),r=Pt(),i=wt(),{width:n,height:c,wrapperStyle:d,portal:f}=t,[o,v]=Ot([a]),x=Et(),y=It();if(x==null||y==null)return null;var j=x-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),b=za(t.layout,c,n,j),m=f?d:Y(Y({position:"absolute",width:(b==null?void 0:b.width)||n||"auto",height:(b==null?void 0:b.height)||c||"auto"},Ma(d,t,i,x,y,o)),d),O=f??r;if(O==null||a==null)return null;var p=l.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:v},l.createElement(_a,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&l.createElement(Fa,{width:o.width,height:o.height}),l.createElement(La,Ie({},t,b,{margin:i,chartWidth:x,chartHeight:y,contextPayload:a})));return ht.createPortal(p,O)}Te.displayName="Legend";var Ue=(e,t,a)=>{var r=a??e;if(!xe(r))return Oe(r,t,0)},Ra=(e,t,a)=>{var r={},i=e.filter(At),n=e.filter(o=>o.stackId==null),c=i.reduce((o,v)=>(o[v.stackId]||(o[v.stackId]=[]),o[v.stackId].push(v),o),r),d=Object.entries(c).map(o=>{var[v,x]=o,y=x.map(b=>b.dataKey),j=Ue(t,a,x[0].barSize);return{stackId:v,dataKeys:y,barSize:j}}),f=n.map(o=>{var v=[o.dataKey].filter(y=>y!=null),x=Ue(t,a,o.barSize);return{stackId:void 0,dataKeys:v,barSize:x}});return[...d,...f]};function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(a),!0).forEach(function(r){$a(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $a(e,t,a){return(t=Va(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Va(e){var t=Wa(e,"string");return typeof t=="symbol"?t:t+""}function Wa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(e,t,a,r,i){var n=r.length;if(!(n<1)){var c=Oe(e,a,0,!0),d,f=[];if(R(r[0].barSize)){var o=!1,v=a/n,x=r.reduce((p,g)=>p+(g.barSize||0),0);x+=(n-1)*c,x>=a&&(x-=(n-1)*c,c=0),x>=a&&v>0&&(o=!0,v*=.9,x=n*v);var y=(a-x)/2>>0,j={offset:y-c,size:0};d=r.reduce((p,g)=>{var u,h={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:j.offset+j.size+c,size:o?v:(u=g.barSize)!==null&&u!==void 0?u:0}},P=[...p,h];return j=P[P.length-1].position,P},f)}else{var b=Oe(t,a,0,!0);a-2*b-(n-1)*c<=0&&(c=0);var m=(a-2*b-(n-1)*c)/n;m>1&&(m>>=0);var O=R(i)?Math.min(m,i):m;d=r.reduce((p,g,u)=>[...p,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:b+(m+c)*u+(m-O)/2,size:O}}],f)}return d}}var Ua=(e,t,a,r,i,n,c)=>{var d=xe(c)?t:c,f=Ha(a,r,i!==n?i:n,e,d);return i!==n&&f!=null&&(f=f.map(o=>oe(oe({},o),{},{position:oe(oe({},o.position),{},{offset:o.position.offset-i/2})}))),f},Ya=(e,t)=>{var a=Nt(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:n}=i;if(n)return n.find(c=>c.key===a)}}}};function Xa(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&R(e.zIndex)?e.zIndex:t}function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(a),!0).forEach(function(r){Za(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Za(e,t,a){return(t=qa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qa(e){var t=Ja(e,"string");return typeof t=="symbol"?t:t+""}function Ja(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ue.apply(null,arguments)}var Qa=(e,t)=>{var a;if(l.isValidElement(e))a=l.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{if(!R(t.x1)||!R(t.y1)||!R(t.x2)||!R(t.y2))return null;a=l.createElement("line",ue({},t,{className:"recharts-reference-line-line"}))}return a},er=(e,t,a,r,i,n)=>{var{x:c,width:d}=n,f=i.y.apply(e,{position:a});if(Be(f)||t==="discard"&&!i.y.isInRange(f))return null;var o=[{x:c+d,y:f},{x:c,y:f}];return r==="left"?o.reverse():o},tr=(e,t,a,r,i,n)=>{var{y:c,height:d}=n,f=i.x.apply(e,{position:a});if(Be(f)||t==="discard"&&!i.x.isInRange(f))return null;var o=[{x:f,y:c+d},{x:f,y:c}];return r==="top"?o.reverse():o},ar=(e,t,a,r)=>{var i=e.map(n=>r.apply(n,{position:a}));return t==="discard"&&i.some(n=>!r.isInRange(n))?null:i},rr=(e,t,a,r,i,n)=>{var{x:c,y:d,segment:f,ifOverflow:o}=n,v=_e(c),x=_e(d);return x?er(d,o,a,i,e,t):v?tr(c,o,a,r,e,t):f!=null&&f.length===2?ar(f,o,a,e):null};function nr(e){var t=Ge();return l.useEffect(()=>(t(Ct(e)),()=>{t(Gt(e))})),null}function ir(e){var{xAxisId:t,yAxisId:a,shape:r,className:i,ifOverflow:n}=e,c=De(),d=Dt(),f=B(w=>Bt(w,t)),o=B(w=>Lt(w,a)),v=B(w=>Me(w,"xAxis",t,c)),x=B(w=>Me(w,"yAxis",a,c)),y=Mt();if(!d||!y||f==null||o==null||v==null||x==null)return null;var j=_t({x:v,y:x}),b=rr(j,y,e.position,f.orientation,o.orientation,e);if(!b)return null;var[{x:m,y:O},{x:p,y:g}]=b,u=n==="hidden"?"url(#".concat(d,")"):void 0,h=Ze(Ze({clipPath:u},Ft(e)),{},{x1:m,y1:O,x2:p,y2:g}),P=Rt({x1:m,y1:O,x2:p,y2:g});return l.createElement(pe,{zIndex:e.zIndex},l.createElement(ne,{className:Ne("recharts-reference-line",i)},Qa(r,h),l.createElement(zt,ue({},P,{lowerWidth:P.width,upperWidth:P.width}),l.createElement(Kt,{label:e.label}),e.children)))}var sr={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:me.line};function ot(e){var t=ve(e,sr);return l.createElement(l.Fragment,null,l.createElement(nr,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),l.createElement(ir,t))}ot.displayName="ReferenceLine";var lr=["children"];function or(e,t){if(e==null)return{};var a,r,i=cr(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function cr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ur={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dr=l.createContext(ur);function fr(e){var{children:t}=e,a=or(e,lr);return l.createElement(dr.Provider,{value:a},t)}var vr="Invariant failed";function xr(e,t){throw new Error(vr)}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ke.apply(null,arguments)}function de(e){return l.createElement($t,ke({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var mr=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(we(t))return t;var n=we(r)||xe(r);return n?t(r,i):(n||xr(),a)}},pr=(e,t,a)=>a,hr=(e,t)=>t,ie=F([et,hr],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),gr=F([ie],e=>e==null?void 0:e.maxBarSize),yr=(e,t,a,r)=>r,br=F([X,et,$,V,pr],(e,t,a,r,i)=>t.filter(n=>e==="horizontal"?n.xAxisId===a:n.yAxisId===r).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),Sr=(e,t,a)=>{var r=X(e),i=$(e,t),n=V(e,t);if(!(i==null||n==null))return r==="horizontal"?Fe(e,"yAxis",n,a):Fe(e,"xAxis",i,a)},jr=(e,t)=>{var a=X(e),r=$(e,t),i=V(e,t);if(!(r==null||i==null))return a==="horizontal"?ze(e,"xAxis",r):ze(e,"yAxis",i)},Pr=F([br,Xt,jr],Ra),wr=(e,t,a)=>{var r,i,n=ie(e,t);if(n!=null){var c=$(e,t),d=V(e,t);if(!(c==null||d==null)){var f=X(e),o=tt(e),{maxBarSize:v}=n,x=xe(v)?o:v,y,j;return f==="horizontal"?(y=H(e,"xAxis",c,a),j=U(e,"xAxis",c,a)):(y=H(e,"yAxis",d,a),j=U(e,"yAxis",d,a)),(r=(i=Qe(y,j,!0))!==null&&i!==void 0?i:x)!==null&&r!==void 0?r:0}}},ct=(e,t,a)=>{var r=X(e),i=$(e,t),n=V(e,t);if(!(i==null||n==null)){var c,d;return r==="horizontal"?(c=H(e,"xAxis",i,a),d=U(e,"xAxis",i,a)):(c=H(e,"yAxis",n,a),d=U(e,"yAxis",n,a)),Qe(c,d)}},Or=F([Pr,tt,Ut,Yt,wr,ct,gr],Ua),Er=(e,t,a)=>{var r=$(e,t);if(r!=null)return H(e,"xAxis",r,a)},Ir=(e,t,a)=>{var r=V(e,t);if(r!=null)return H(e,"yAxis",r,a)},Tr=(e,t,a)=>{var r=$(e,t);if(r!=null)return U(e,"xAxis",r,a)},kr=(e,t,a)=>{var r=V(e,t);if(r!=null)return U(e,"yAxis",r,a)},Ar=F([Or,ie],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),Nr=F([Sr,ie],Ya),Cr=F([Vt,Wt,Er,Ir,Tr,kr,Ar,X,Ht,ct,Nr,ie,yr],(e,t,a,r,i,n,c,d,f,o,v,x,y)=>{var{chartData:j,dataStartIndex:b,dataEndIndex:m}=f;if(!(x==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||a==null||r==null||i==null||n==null||o==null)){var{data:O}=x,p;if(O!=null&&O.length>0?p=O:p=j==null?void 0:j.slice(b,m+1),p!=null)return on({layout:d,barSettings:x,pos:c,parentViewBox:t,bandSize:o,xAxis:a,yAxis:r,xAxisTicks:i,yAxisTicks:n,stackedData:v,displayedData:p,offset:e,cells:y,dataStartIndex:b})}}),Gr=["index"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ae.apply(null,arguments)}function Dr(e,t){if(e==null)return{};var a,r,i=Br(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Br(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ut=l.createContext(void 0),Lr=e=>{var t=l.useContext(ut);if(t!=null)return t.stackId;if(e!=null)return Zt(e)},Mr=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),_r=e=>{var t=l.useContext(ut);if(t!=null){var{stackId:a}=t;return"url(#".concat(Mr(a,e),")")}},Fr=e=>{var{index:t}=e,a=Dr(e,Gr),r=_r(t);return l.createElement(ne,Ae({className:"recharts-bar-stack-layer",clipPath:r},a))},zr=["onMouseEnter","onMouseLeave","onClick"],Kr=["value","background","tooltipPosition"],Rr=["id"],$r=["onMouseEnter","onClick","onMouseLeave"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L.apply(null,arguments)}function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(a),!0).forEach(function(r){Vr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vr(e,t,a){return(t=Wr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wr(e){var t=Hr(e,"string");return typeof t=="symbol"?t:t+""}function Hr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fe(e,t){if(e==null)return{};var a,r,i=Ur(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Ur(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Yr=e=>{var{dataKey:t,name:a,fill:r,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:r,value:at(a,t),payload:e}]},Xr=l.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:i,name:n,hide:c,unit:d,tooltipType:f,id:o}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:at(n,t),hide:c,type:f,color:i,unit:d,graphicalItemId:o}};return l.createElement(ta,{tooltipEntrySettings:v})});function Zr(e){var t=B(nt),{data:a,dataKey:r,background:i,allOtherBarProps:n}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=n,o=fe(n,zr),v=it(c,r,n.id),x=st(d),y=lt(f,r,n.id);if(!i||a==null)return null;var j=oa(i);return l.createElement(pe,{zIndex:Xa(i,me.barBackground)},a.map((b,m)=>{var{value:O,background:p,tooltipPosition:g}=b,u=fe(b,Kr);if(!p)return null;var h=v(b,m),P=x(b,m),w=y(b,m),S=C(C(C(C(C({option:i,isActive:String(m)===t},u),{},{fill:"#eee"},p),j),Ce(o,b,m)),{},{onMouseEnter:h,onMouseLeave:P,onClick:w,dataKey:r,index:m,className:"recharts-bar-background-rectangle"});return l.createElement(de,L({key:"background-bar-".concat(m)},S))}))}function qr(e){var{showLabels:t,children:a,rects:r}=e,i=r==null?void 0:r.map(n=>{var c={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return C(C({},c),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:c,fill:n.fill})});return l.createElement(fa,{value:t?i:void 0},a)}function Jr(e){var{shape:t,activeBar:a,baseProps:r,entry:i,index:n,dataKey:c}=e,d=B(nt),f=B(xa),o=a&&String(n)===d&&(f==null||c===f),v=o?a:t;return o?l.createElement(pe,{zIndex:me.activeBar},l.createElement(de,L({},r,{name:String(r.name)},i,{isActive:o,option:v,index:n,dataKey:c}))):l.createElement(de,L({},r,{name:String(r.name)},i,{isActive:o,option:v,index:n,dataKey:c}))}function Qr(e){var{shape:t,baseProps:a,entry:r,index:i,dataKey:n}=e;return l.createElement(de,L({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:i,dataKey:n}))}function en(e){var t,{data:a,props:r}=e,i=(t=va(r))!==null&&t!==void 0?t:{},{id:n}=i,c=fe(i,Rr),{shape:d,dataKey:f,activeBar:o}=r,{onMouseEnter:v,onClick:x,onMouseLeave:y}=r,j=fe(r,$r),b=it(v,f,n),m=st(y),O=lt(x,f,n);return a?l.createElement(l.Fragment,null,a.map((p,g)=>l.createElement(Fr,L({index:g,key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g),className:"recharts-bar-rectangle"},Ce(j,p,g),{onMouseEnter:b(p,g),onMouseLeave:m(p,g),onClick:O(p,g)}),o?l.createElement(Jr,{shape:d,activeBar:o,baseProps:c,entry:p,index:g,dataKey:f}):l.createElement(Qr,{shape:d,baseProps:c,entry:p,index:g,dataKey:f})))):null}function tn(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:i,isAnimationActive:n,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:o,onAnimationStart:v}=t,x=a.current,y=ca(t,"recharts-bar-"),[j,b]=l.useState(!1),m=!j,O=l.useCallback(()=>{typeof o=="function"&&o(),b(!1)},[o]),p=l.useCallback(()=>{typeof v=="function"&&v(),b(!0)},[v]);return l.createElement(qr,{showLabels:m,rects:r},l.createElement(ua,{animationId:y,begin:c,duration:d,isActive:n,easing:f,onAnimationEnd:O,onAnimationStart:p,key:y},g=>{var u=g===1?r:r==null?void 0:r.map((h,P)=>{var w=x&&x[P];if(w)return C(C({},h),{},{x:_(w.x,h.x,g),y:_(w.y,h.y,g),width:_(w.width,h.width,g),height:_(w.height,h.height,g)});if(i==="horizontal"){var S=_(0,h.height,g),E=_(h.stackedBarStart,h.y,g);return C(C({},h),{},{y:E,height:S})}var I=_(0,h.width,g),T=_(h.stackedBarStart,h.x,g);return C(C({},h),{},{width:I,x:T})});return g>0&&(a.current=u??null),u==null?null:l.createElement(ne,null,l.createElement(en,{props:t,data:u}))}),l.createElement(da,{label:t.label}),t.children)}function an(e){var t=l.useRef(null);return l.createElement(tn,{previousRectanglesRef:t,props:e})}var dt=0,rn=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:rt(e,t)}};class nn extends l.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:i,xAxisId:n,yAxisId:c,needClip:d,background:f,id:o}=this.props;if(t||a==null)return null;var v=Ne("recharts-bar",i),x=o;return l.createElement(ne,{className:v,id:o},d&&l.createElement("defs",null,l.createElement(ia,{clipPathId:x,xAxisId:n,yAxisId:c})),l.createElement(ne,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},l.createElement(Zr,{data:a,dataKey:r,background:f,allOtherBarProps:this.props}),l.createElement(an,this.props)))}}var sn={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dt,xAxisId:0,yAxisId:0,zIndex:me.bar};function ln(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:i,minPointSize:n,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:o,isAnimationActive:v}=e,{needClip:x}=aa(t,a),y=ra(),j=De(),b=na(e.children,Ee),m=B(g=>Cr(g,e.id,j,b));if(y!=="vertical"&&y!=="horizontal")return null;var O,p=m==null?void 0:m[0];return p==null||p.height==null||p.width==null?O=0:O=y==="vertical"?p.height/2:p.width/2,l.createElement(fr,{xAxisId:t,yAxisId:a,data:m,dataPointFormatter:rn,errorBarOffset:O},l.createElement(nn,L({},e,{layout:y,needClip:x,data:m,xAxisId:t,yAxisId:a,hide:r,legendType:i,minPointSize:n,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:o,isAnimationActive:v})))}function on(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:i,bandSize:n,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:o,stackedData:v,displayedData:x,offset:y,cells:j,parentViewBox:b,dataStartIndex:m}=e,O=t==="horizontal"?d:c,p=v?O.scale.domain():null,g=sa({numericAxis:O}),u=O.scale(g);return x.map((h,P)=>{var w,S,E,I,T,D;if(v){var M=v[P+m];if(M==null)return null;w=la(M,p)}else w=rt(h,a),Array.isArray(w)||(w=[g,w]);var k=mr(r,dt)(w[1],P);if(t==="horizontal"){var Z,[q,z]=[d.scale(w[0]),d.scale(w[1])];S=Ke({axis:c,ticks:f,bandSize:n,offset:i.offset,entry:h,index:P}),E=(Z=z??q)!==null&&Z!==void 0?Z:void 0,I=i.size;var J=q-z;if(T=Be(J)?0:J,D={x:S,y:y.top,width:I,height:y.height},Math.abs(k)>0&&Math.abs(T)<Math.abs(k)){var Q=Re(T||k)*(Math.abs(k)-Math.abs(T));E-=Q,T+=Q}}else{var[W,ee]=[c.scale(w[0]),c.scale(w[1])];if(S=W,E=Ke({axis:d,ticks:o,bandSize:n,offset:i.offset,entry:h,index:P}),I=ee-W,T=i.size,D={x:y.left,y:E,width:y.width,height:T},Math.abs(k)>0&&Math.abs(I)<Math.abs(k)){var te=Re(I||k)*(Math.abs(k)-Math.abs(I));I+=te}}if(S==null||E==null||I==null||T==null)return null;var ae=C(C({},h),{},{stackedBarStart:u,x:S,y:E,width:I,height:T,value:v?w:w[1],payload:h,background:D,tooltipPosition:{x:S+I/2,y:E+T/2},parentViewBox:b},j&&j[P]&&j[P].props);return ae}).filter(Boolean)}function cn(e){var t=ve(e,sn),a=Lr(t.stackId),r=De();return l.createElement(Jt,{id:t.id,type:"bar"},i=>l.createElement(l.Fragment,null,l.createElement(Qt,{legendPayload:Yr(t)}),l.createElement(Xr,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),l.createElement(ea,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:a,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),l.createElement(pe,{zIndex:t.zIndex},l.createElement(ln,L({},t,{id:i})))))}var re=l.memo(cn,qt);re.displayName="Bar";var un=["axis","item"],Je=l.forwardRef((e,t)=>l.createElement(ma,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:un,tooltipPayloadSearcher:pa,categoricalChartProps:e,ref:t}));const K=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"":t.toISOString().split("T")[0]},dn=(e,t)=>{const a=new Date(e),r=new Date(t);return Math.ceil((r.getTime()-a.getTime())/(1e3*60*60*24))},fn=(e,t)=>{const a=dn(e,t)+1,r=new Date(e);r.setDate(r.getDate()-1);const i=new Date(r);return i.setDate(i.getDate()-a+1),{prevDateFrom:K(i),prevDateTo:K(r)}},Pn=()=>{const e=gt(),[t,a]=l.useState(!1),[r,i]=l.useState([]),[n,c]=l.useState(null),[d,f]=l.useState(""),[o,v]=l.useState(""),[x,y]=l.useState("LAST_3_MONTHS");l.useEffect(()=>{v(K(new Date))},[]),l.useEffect(()=>{if(x!=="CUSTOM"){const u=new Date,h=K(u),P=new Date(u);x==="LAST_3_MONTHS"?P.setMonth(u.getMonth()-3):x==="LAST_6_MONTHS"?P.setMonth(u.getMonth()-6):x==="LAST_12_MONTHS"&&P.setMonth(u.getMonth()-12);const w=K(P);f(w),v(h)}},[x]);const j=l.useCallback((u,h)=>{const P=new Map;return h.forEach(S=>{const E=S.invoiceChallanDate||S.invoice_challan_date;if(E){const I=K(E),T=parseFloat(S.totalValueExclGst||S.total_value_excl_gst||0),D=parseFloat(S.gstAmount||S.gst_amount||0),M=T+D,k=P.get(I)||{revenueExclGST:0,revenueInclGST:0,expensesExclGST:0,expensesInclGST:0,outputGST:0,inputGST:0};P.set(I,{...k,revenueExclGST:k.revenueExclGST+T,revenueInclGST:k.revenueInclGST+M,outputGST:k.outputGST+D})}}),u.forEach(S=>{const E=S.receivingDate||S.receiving_date||S.invoiceDate||S.invoice_date;if(E){const I=K(E),T=parseFloat(S.totalValueExclGst||S.total_value_excl_gst||0),D=parseFloat(S.gstAmount||S.gst_amount||0),M=parseFloat(S.totalValueInclGst||S.total_value_incl_gst||S.totalValue||S.total_value||0),k=P.get(I)||{revenueExclGST:0,revenueInclGST:0,expensesExclGST:0,expensesInclGST:0,outputGST:0,inputGST:0};P.set(I,{...k,expensesExclGST:k.expensesExclGST+T,expensesInclGST:k.expensesInclGST+M,inputGST:k.inputGST+D})}}),Array.from(P.entries()).map(([S,E])=>({date:S,revenueExclGST:E.revenueExclGST,revenueInclGST:E.revenueInclGST,expensesExclGST:E.expensesExclGST,expensesInclGST:E.expensesInclGST,grossProfit:E.revenueExclGST-E.expensesExclGST,outputGST:E.outputGST,inputGST:E.inputGST,provisionalNetGST:E.outputGST-E.inputGST})).sort((S,E)=>new Date(S.date).getTime()-new Date(E.date).getTime())},[]),b=l.useCallback(async()=>{if(!(!d||!o))try{a(!0);const{prevDateFrom:u,prevDateTo:h}=fn(d,o),[P,w,S,E]=await Promise.all([le.getIncomingHistory({dateFrom:d,dateTo:o}),le.getOutgoingHistory({dateFrom:d,dateTo:o}),le.getIncomingHistory({dateFrom:u,dateTo:h}),le.getOutgoingHistory({dateFrom:u,dateTo:h})]),I=j(P.data||[],w.data||[]),T=j(S.data||[],E.data||[]);i(I);const D=I.reduce((A,N)=>A+N.revenueExclGST,0),M=I.reduce((A,N)=>A+N.revenueInclGST,0),k=I.reduce((A,N)=>A+N.expensesExclGST,0),Z=I.reduce((A,N)=>A+N.expensesInclGST,0),q=I.reduce((A,N)=>A+N.grossProfit,0),z=I.reduce((A,N)=>A+N.outputGST,0),J=I.reduce((A,N)=>A+N.inputGST,0),Q=z-J,W=T.reduce((A,N)=>A+N.revenueExclGST,0),ee=T.reduce((A,N)=>A+N.expensesExclGST,0),te=T.reduce((A,N)=>A+N.grossProfit,0),ae=T.reduce((A,N)=>A+N.provisionalNetGST,0),ft=W!==0?(D-W)/Math.abs(W)*100:0,vt=ee!==0?(k-ee)/Math.abs(ee)*100:0,xt=te!==0?(q-te)/Math.abs(te)*100:0,mt=ae!==0?(Q-ae)/Math.abs(ae)*100:0;c({totalRevenueExclGST:D,totalRevenueInclGST:M,totalExpensesExclGST:k,totalExpensesInclGST:Z,totalGrossProfit:q,totalOutputGST:z,totalInputGST:J,provisionalNetGSTLiability:Q,revenueChange:ft,expensesChange:vt,profitChange:xt,gstChange:mt})}catch(u){console.error("Error loading financial data:",u),i([]),c(null)}finally{a(!1)}},[d,o,j]);l.useEffect(()=>{b()},[b]);const m=l.useCallback(u=>{if(!u&&u!==0)return"₹0";const h=Math.abs(u),P=u<0?"-":"";return h>=1e6?`${P}₹${(h/1e6).toFixed(1)}M`:h>=1e3?`${P}₹${Math.round(h/1e3)}k`:`${P}₹${Math.round(h)}`},[]),O=l.useCallback(u=>!u&&u!==0?"0%":`${u>=0?"+":""}${Math.round(u)}%`,[]),p=l.useCallback(()=>d?`FY${new Date(d).getFullYear().toString().slice(-2)}`:"",[d]),g=l.useMemo(()=>r,[r]);return s.jsxs("div",{className:"p-8 space-y-8 w-full bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/app/dashboard"),className:"text-slate-600 hover:text-indigo-600 transition-colors",children:s.jsx(yt,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-[28.8px] font-bold leading-[1.2] tracking-tight text-slate-900",children:"Financial Intelligence"})]}),s.jsx("p",{className:"text-[14px] font-normal leading-[1.5] text-slate-500",children:"Profitability analysis and tax liability tracking."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:x,onChange:u=>y(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"LAST_3_MONTHS",children:"Last 3 Months"}),s.jsx("option",{value:"LAST_6_MONTHS",children:"Last 6 Months"}),s.jsx("option",{value:"LAST_12_MONTHS",children:"Last 12 Months"}),s.jsx("option",{value:"CUSTOM",children:"Custom Range"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:d,onChange:u=>f(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"date",value:o,onChange:u=>v(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),t?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):r.length===0?s.jsx("div",{className:"flex justify-center items-center h-96 text-gray-500",children:s.jsx("p",{children:"No data available for the selected date range"})}):s.jsxs(s.Fragment,{children:[n&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Total Sales"}),s.jsx(se,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:m(n.totalRevenueExclGST)}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{className:`text-xs font-semibold ${n.revenueChange>=0?"text-green-600":"text-red-600"}`,children:[O(n.revenueChange)," VS PREV. PERIOD"]})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Excl. GST"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Cost of Goods"}),s.jsx(se,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:m(n.totalExpensesExclGST)}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{className:`text-xs font-semibold ${n.expensesChange>=0?"text-green-600":"text-red-600"}`,children:[O(n.expensesChange)," VS PREV. PERIOD"]})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Excl. GST"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Gross Margin"}),s.jsx(se,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:m(n.totalGrossProfit)}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{className:`text-xs font-semibold ${n.profitChange>=0?"text-green-600":"text-red-600"}`,children:[O(n.profitChange)," VS PREV. PERIOD"]})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Before Tax"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"GST Liability"}),s.jsx(Ve,{className:"w-4 h-4 text-red-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:m(n.provisionalNetGSTLiability)}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{className:`text-xs font-semibold ${n.gstChange<=0?"text-green-600":"text-red-600"}`,children:[O(n.gstChange)," VS PREV. PERIOD"]})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Provisional"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Sales vs Purchases"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Cash flow trajectory (Incl. GST)"})]}),s.jsx("div",{className:"h-80",children:s.jsx(ye,{width:"100%",height:"100%",children:s.jsxs(ha,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),s.jsxs("linearGradient",{id:"colorPurchases",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]})]}),s.jsx(be,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Se,{dataKey:"date",tickFormatter:u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"}),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(je,{tickFormatter:u=>m(u),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(Pe,{formatter:u=>ge(u||0),labelFormatter:u=>he(u),contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),s.jsx(Te,{}),s.jsx($e,{type:"monotone",dataKey:"revenueInclGST",name:"Sales",stackId:"1",stroke:"#3b82f6",fill:"url(#colorSales)"}),s.jsx($e,{type:"monotone",dataKey:"expensesInclGST",name:"Purchases",stackId:"2",stroke:"#ef4444",fill:"url(#colorPurchases)"})]})})})]}),s.jsxs("div",{className:"bg-indigo-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold",children:"GST Analytics"}),s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-bold",children:"₹"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-semibold text-indigo-100 uppercase tracking-wide",children:"Output GST (Sales)"}),s.jsx(se,{className:"w-4 h-4 text-white"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:m(n?n.totalOutputGST:0)}),s.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:p()})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-semibold text-indigo-100 uppercase tracking-wide",children:"Input Tax Credit"}),s.jsx(Ve,{className:"w-4 h-4 text-white"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:m(n?n.totalInputGST:0)}),s.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:p()})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-4 border-2 border-white/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-wide",children:"Provisional Net GST"}),s.jsx(ga,{className:"w-4 h-4 text-white"})]}),s.jsx("p",{className:"text-3xl font-bold text-white",children:m(n?n.provisionalNetGSTLiability:0)}),s.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[s.jsx(ya,{className:"w-3 h-3 text-yellow-300 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-indigo-100",children:"Indicative liability before ITC restrictions and adjustments."})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gross Margin (Before Taxation)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly gross margin excluding GST"})]}),s.jsx("div",{className:"h-80",children:s.jsx(ye,{width:"100%",height:"100%",children:s.jsxs(Je,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(be,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Se,{dataKey:"date",tickFormatter:u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"}),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(je,{tickFormatter:u=>m(u),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(ot,{y:0,stroke:"#1f2937",strokeWidth:2}),s.jsx(Pe,{formatter:u=>ge(u||0),labelFormatter:u=>he(u),contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),s.jsx(re,{dataKey:"grossProfit",name:"Gross Margin (Before Tax)",children:g.map((u,h)=>s.jsx(Ee,{fill:u.grossProfit>=0?"#10b981":"#ef4444"},`cell-${h}`))})]})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"GST Amount (After Taxation)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Output GST, Input Tax Credit, and Provisional Net GST Liability"})]}),s.jsx("div",{className:"h-80",children:s.jsx(ye,{width:"100%",height:"100%",children:s.jsxs(Je,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(be,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Se,{dataKey:"date",tickFormatter:u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"}),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(je,{tickFormatter:u=>m(u),stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(Pe,{formatter:u=>ge(u||0),labelFormatter:u=>he(u),contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),s.jsx(Te,{}),s.jsx(re,{dataKey:"outputGST",name:"Output GST (Sales)",fill:"#3b82f6"}),s.jsx(re,{dataKey:"inputGST",name:"Input Tax Credit",fill:"#10b981"}),s.jsx(re,{dataKey:"provisionalNetGST",name:"Provisional Net GST",children:g.map((u,h)=>s.jsx(Ee,{fill:u.provisionalNetGST>=0?"#f59e0b":"#10b981"},`cell-${h}`))})]})})})]})]})]})};export{Pn as default};
