import{u as p,r as s,j as e,T as h}from"./index-C4O2RVGC.js";import{s as g}from"./skuService-CD47JNeC.js";import{f as u,b as y,a as f}from"./formatters-ptPrPoGe.js";import{A as j}from"./arrow-left-DX9oxssc.js";import{D as b}from"./download-BnsO4lfA.js";import{E as N}from"./eye-C7eBhAd0.js";import"./api-VNhYhLPD.js";import"./cachedApi-CKq13PPM.js";const I=()=>{const l=p(),[c,i]=s.useState(!1),[n,x]=s.useState([]),[a,o]=s.useState(30),[r,d]=s.useState("units");s.useEffect(()=>{m()},[a,r]);const m=async()=>{try{i(!0);const t=await g.getMostSelling({period:a,sortBy:r});x(t.data||[])}catch(t){console.error("Error loading most selling SKUs:",t),x([])}finally{i(!1)}};return e.jsxs("div",{className:"p-8 space-y-10 w-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>l("/app/sku"),className:"text-slate-600 hover:text-slate-900 transition-colors",children:e.jsx(j,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Most Selling SKUs"})]}),e.jsx("p",{className:"text-lg text-slate-500 font-medium",children:"Track your top-performing products by sales volume and revenue."})]})}),e.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),e.jsxs("select",{value:a,onChange:t=>o(parseInt(t.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:30,children:"Last 30 Days"}),e.jsx("option",{value:60,children:"Last 60 Days"}),e.jsx("option",{value:90,children:"Last 90 Days"}),e.jsx("option",{value:0,children:"Custom Range"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:r,onChange:t=>d(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"units",children:"Units Sold"}),e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"frequency",children:"Frequency"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"Export"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rank"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"SKU ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Units Sold"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Revenue (â‚¹)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Last Sale Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Chart"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No data available"})}):n.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:["#",t.rank]}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.skuId}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.itemName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:t.category}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:u(t.unitsSold)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:y(t.revenue)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:f(t.lastSaleDate)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx(h,{className:"w-5 h-5 text-green-600"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("button",{onClick:()=>l(`/app/sku/${t.skuId}`),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"}),"View Details"]})})]},t.skuId))})]})})})]})};export{I as default};
